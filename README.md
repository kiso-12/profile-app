1. index.html の仕様書：アプリの「骨格」
index.htmlファイルは、アプリの見た目や内容を構成する「骨格」です。わたしたちの体で例えるなら、骨や筋肉のようなもので、どこに何があるか、どんな形をしているかを決めます。ユーザーが見て、触れるすべての要素（ボタン、入力欄、画像など）は、このHTMLファイルに記述されています。

主な役割
コンテンツの配置: アプリのタイトル、プロフィール入力欄、プロフィールプレビューなど、すべての情報をどこに表示するかを決めます。

入力要素の提供: ユーザーが情報を入力するためのテキストボックス（氏名、自己紹介）や、ファイルをアップロードするためのボタン（プロフィール画像）を提供します。

ボタンの設置: 情報を「保存」したり、「リセット」したりするためのボタンを配置します。

外部ファイルとの連携: デザインを担当するCSSファイル（style.css）や、アプリの動きを制御するJavaScriptファイル（script.js）を読み込む指示をします。

具体的な要素と意図
<div class="container">: アプリ全体のコンテンツを包み込む大きな箱です。これにより、デザインを適用しやすくなり、アプリ全体が中央にまとまって見えます。

<div class="input-section card">: プロフィール情報を入力する部分です。ユーザーが氏名や自己紹介を入力したり、画像を選択したりするエリアです。「card」という目印（クラス）をつけることで、後でCSSでカード型のおしゃれなデザインを適用できます。

<input type="file" id="imageUpload" accept="image/*">: プロフィール画像をパソコンから選ぶためのボタンです。accept="image/*"と指定することで、画像ファイルだけを選べるようになります。

<button id="resetImageBtn" class="secondary-btn">: プロフィール画像を初期状態に戻すためのボタンです。「secondary-btn」という目印で、保存ボタンとは違う見た目にできます。

<div class="preview-section card">: 入力したプロフィールがどのように見えるかを確認する「プレビュー」部分です。

<img id="profileImagePreview">: プレビューとして表示されるプロフィール画像です。ユーザーが画像を選んだり、デフォルトの状態に戻したりすると、この画像の表示が変わります。

<h3 id="profileNamePreview"> / <p id="profileIntroductionPreview">: プレビューとして表示される氏名と自己紹介文です。

<script src="script.js"></script>: これが最も重要で、script.jsというJavaScriptファイルを読み込む指示です。この行がないと、アプリはまったく動きません。

2. style.css の仕様書：アプリの「見た目」
style.cssファイルは、アプリの「見た目」を担当します。HTMLで定義された骨格に、色、形、配置、アニメーションといった「服装」を着せるようなものです。ユーザーが「おしゃれ」「使いやすい」と感じるかどうかは、このCSSのデザインにかかっています。

主な役割
色の設定: 背景の色、文字の色、ボタンの色などを決めます。

レイアウトの調整: 各要素をどこに配置するか（例：中央寄せ、横並び）、要素間の隙間（余白）などを調整します。

要素の装飾: ボタンや入力欄の角を丸くしたり、影をつけたり、フォントの種類や大きさを設定したりします。

インタラクションの追加: マウスカーソルがボタンに乗ったとき（ホバー）や、ボタンをクリックしたとき（アクティブ）に、色が変わったり、少し動いたりするアニメーション効果を設定します。これにより、アプリが「生きている」ように感じられます。

レスポンシブデザイン: 画面のサイズ（スマートフォン、タブレット、PCなど）に合わせて、表示を自動的に調整し、どのデバイスでも見やすくします。

具体的なスタイルと意図
body: ページ全体の背景を美しいグラデーションにし、フォントもモダンなもの（Roboto）に変更しています。アプリ全体に統一感と洗練された印象を与えます。

.container: アプリ全体を囲む白い箱に、大きな影と丸みのある角を与え、立体感と柔らかさを表現しています。

.card: 入力セクションとプレビューセクションに共通で適用されるスタイルです。薄いグレーの背景と控えめな影で、各セクションが「カード」のように独立して見えます。

input, textarea, button のデザイン:

padding（内側の余白）を増やして、ゆったりとした見た目に。

border-radius（角丸）を大きくして、親しみやすい印象に。

transitionプロパティを使って、マウスが乗ったり、クリックしたりしたときの色の変化や動きを滑らかにしています。特にボタンは、ホバーで少し浮き上がり、クリックで沈むような効果で、ユーザーに操作が成功したことを視覚的に伝えます。

.image-upload-controls: 画像選択ボタンとリセットボタンをdisplay: flex;で横並びに配置し、gapで適切な間隔を空けています。

.secondary-btn: リセットボタンに適用されるスタイルです。メインの保存ボタン（緑色）とは異なるグレーの色とサイズにすることで、ユーザーに「これは補助的な機能だな」と直感的に伝わります。

@media (max-width: 768px): スマートフォンなどの画面幅が狭いデバイスで、要素が縦に並ぶようにレイアウトを調整しています。これにより、スクロールせずにすべての要素が見えるようになります。

3. script.js の仕様書：アプリの「頭脳」と「動き」
script.jsファイルは、アプリの「頭脳」であり、「動き」を制御する司令塔です。ユーザーがボタンをクリックしたり、文字を入力したりといった「行動」に対して、アプリがどのように「反応」するかを指示します。

主な役割
HTML要素の操作 (DOM操作): HTMLファイルで定義された各要素（入力欄、画像、ボタンなど）をJavaScriptから見つけ出して、その内容（テキスト、画像URLなど）を読み取ったり、書き換えたりします。

イベント処理: 「ボタンがクリックされたら」「文字が入力されたら」「ページが読み込まれたら」といった、ユーザーの行動やアプリの状態変化（イベント）を監視し、それに応じて特定の処理を実行します。

データの保存と読み込み: ユーザーが入力したプロフィール情報をブラウザのローカルストレージに保存し、次回アプリを開いたときに自動で読み込んで表示します。これにより、入力した情報が消えないようになります。

非同期処理: 画像ファイルの読み込みのように、時間がかかる処理をアプリの動作を止めずに（裏で）行うための仕組み（Promise, async/await）を使います。

具体的な機能と意図
const xxx = document.getElementById('xxx');:

これは、HTMLファイル内の特定のidを持つ要素（例：profileImagePreviewというIDを持つ画像）をJavaScriptで「指し示す」ための命令です。これにより、JavaScriptがそれらの要素の情報を読み取ったり、表示を変えたりできるようになります。

DEFAULT_IMAGE_SRC:

画像が設定されていないときに表示される、デフォルトのプレースホルダー画像のURLです。一箇所にまとめておくことで、変更が簡単になります。

loadProfile() 関数:

アプリが起動したときや、プロフィールが保存された後に実行されます。

ローカルストレージから'myProfile'という名前で保存されているプロフィール情報（JSON形式の文字列）を読み込みます。

読み込んだ情報があれば、それを各入力欄とプレビュー表示に反映させます。なければ、初期の氏名、自己紹介文、デフォルト画像を表示します。

JSON.parse(): 保存された文字列データをJavaScriptで扱える形（オブジェクト）に変換します。

saveProfile() 関数:

「プロフィールを保存」ボタンがクリックされたときに実行されます。

各入力欄の現在の値（氏名、自己紹介文）と、現在プレビューに表示されている画像データ（Base64形式）をまとめて一つのオブジェクト（profile）にします。

もし新しい画像ファイルが選択されていれば、readFileAsBase64()を使ってその画像をBase64形式に変換し、profileオブジェクトに含めます。

JSON.stringify(): JavaScriptのオブジェクトを、ローカルストレージに保存できる文字列形式に変換します。

localStorage.setItem('myProfile', profileJSON);: 変換した文字列をローカルストレージに保存します。

エラーハンドリング: ローカルストレージには容量制限があるため、画像が大きすぎると保存できない場合があります。その際にエラー（QuotaExceededError）を検知し、ユーザーに分かりやすいメッセージを表示します。

readFileAsBase64(file) 関数:

これは、ユーザーが選択した画像ファイル（Fileオブジェクト）を、ウェブページで表示したりローカルストレージに保存したりできる特殊な形式（Base64データURL）に変換する専門の関数です。

FileReaderというJavaScriptの機能を使います。

「async / await」と「Promise」を使うことで、ファイルの読み込みという時間がかかる処理を、アプリ全体の動きを止めずにスムーズに行うことができます。

updatePreview() 関数:

画像選択欄、氏名入力欄、自己紹介入力欄のいずれかの内容が変更されるたびに実行されます。

選択された画像ファイルをリアルタイムで読み込み、プレビュー画像として表示します。

入力中の氏名や自己紹介文も、その場でプレビューに反映させます。これにより、ユーザーは入力しながら完成イメージを確認できます。

resetImage() 関数:

「画像をリセット」ボタンがクリックされたときに実行されます。

ファイル選択欄の内容をクリアし、プレビュー画像をデフォルトのプレースホルダー画像に戻します。

注意点: この操作だけではローカルストレージのデータは変わりません。リセットした状態を保存するには、別途「プロフィールを保存」ボタンを押す必要があります。

イベントリスナーの設定 (addEventListener):

window.addEventListener('load', loadProfile);: ページが完全に読み込まれたら、loadProfile関数を実行して、保存済みのプロフィールを自動で表示します。

saveProfileBtn.addEventListener('click', saveProfile);: 保存ボタンがクリックされたら、saveProfile関数を実行してデータを保存します。

imageUploadInput.addEventListener('change', updatePreview);: 画像選択欄でファイルが選択（変更）されたら、updatePreview関数を実行してプレビューを更新します。

nameInput.addEventListener('input', updatePreview); / introductionInput.addEventListener('input', updatePreview);: 氏名や自己紹介文の入力欄に文字が入力されるたびに、updatePreview関数を実行してプレビューをリアルタイムで更新します。

resetImageBtn.addEventListener('click', resetImage);: リセットボタンがクリックされたら、resetImage関数を実行して画像をリセットします。
